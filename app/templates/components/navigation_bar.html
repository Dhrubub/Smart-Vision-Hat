<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
    <script>
        $(document).ready(function() {
            // When the modeSelect dropdown changes
            $('#modeSelect').change(function() {
                // Check if the selected option is "Eyes-On Mode"
                if ($(this).val() === "Eyes-On Mode") {
                    // Show the refresh rate selection
                    $('#eyesOnSettings').show();
                } else {
                    // Hide the refresh rate selection
                    $('#eyesOnSettings').hide();
                }
            });
        });
    </script>
</head>

<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <a class="navbar-brand" href="#">Smart Vision Hat</a>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('index') }}">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('user_manual') }}">User Manual</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('system_log') }}">System Log</a>
            </li>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('usage_stats') }}">Usage Stats</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('ask_page') }}">Ask Us</a>
            </li>
        </ul>
        <ul class="navbar-nav">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-user"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown" id="userMenu">
                    <!-- Content dynamically generated by JS -->
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="settingDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-cog"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="settingDropdown">
                    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#userPreferencesModal">User Preference</a>
                </div>
            </li>
        </ul>
    </div>
</nav>



<!-- User Preferences Modal -->
<div class="modal fade" id="userPreferencesModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <!-- ... (rest of your modal header) ... -->
            <div class="modal-body">
                <label for="modeSelect">Choose a mode:</label>
                <select class="form-control" id="modeSelect">
                    <option value="insight">Insight Snap Mode</option>
                    <option value="eyesOn">Eyes-On Mode</option>
                    <option value="assist">Vision Assist Mode</option>
                </select>
                <div id="eyesOnSettings" style="display: none;">
                    <label for="refreshRateSelect" class="mt-3">Refresh Rate:</label>
                    <select class="form-control" id="refreshRateSelect">
                        <option>0.5s</option>
                        <option>1s</option>
                        <option>2s</option>
                        <option>5s</option>
                        <option>10s</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="savePreferences">Save Preferences</button>
            </div>
        </div>
    </div>
</div>
