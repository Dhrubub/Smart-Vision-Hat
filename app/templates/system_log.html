{% extends "components/base.html" %} {% block content %}

<div class="container mt-4" id="page-wrapper">
	<h1 class="text-center">System Log</h1>

	<div class="d-flex justify-content-center">
		<table class="table table-bordered table-striped">
			<thead>
				<tr>
					<th>Captured Image</th>
					<th>Recognized Object(s)</th>
				</tr>
			</thead>
			<tbody>
				{% for detected_image in detected_images %}
				<tr>
					<td>
						<img
							src="{{ detected_image.image_url }}"
							alt="Detected Image"
							class="img-fluid"
							style="max-width: 150px; cursor: pointer"
							onclick="openImageInNewWindow('{{ detected_image.image_url }}')"
						/>
					</td>
					<td>
						{% for key, value in detected_image.labels.items() %}
						<span class="bg-primary text-white rounded-2 p-2 m-1"
							>{{value}} {{key}}{% if value > 1 %}s{% endif %}
						</span>
						{% endfor %}
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>

<script>
	function openImageInNewWindow(imageUrl) {
		// Open the image URL in a new window or tab
		window.open(imageUrl);
	}
</script>
{% endblock %}
